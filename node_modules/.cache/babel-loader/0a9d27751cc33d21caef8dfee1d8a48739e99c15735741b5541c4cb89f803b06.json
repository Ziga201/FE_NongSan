{"ast":null,"code":"import _slicedToArray from\"D:/HOC/LTS/WebNongSan/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import style from\"./Cart.module.scss\";import classNames from'classnames/bind';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var cx=classNames.bind(style);function Cart(){// const [cartItems, setCartItems] = useState([]);\nvar _useState=useState(function(){var cartData=JSON.parse(localStorage.getItem('cartItems'));return cartData?cartData:[];}),_useState2=_slicedToArray(_useState,2),cartItems=_useState2[0],setCartItems=_useState2[1];// useEffect(() => {\n//     const items = JSON.parse(localStorage.getItem('cartItems')) || [];\n//     setCartItems(items);\n// }, []);\nfunction deleteItem(itemId){// const data = JSON.parse(localStorage.getItem(key));\nvar newData=cartItems.filter(function(item){return item.id!==itemId;});setCartItems(newData);localStorage.setItem('cartItems',JSON.stringify(newData));console.log(newData);}// const totalItems = cartItems.reduce((acc, item) => acc + item.qty, 0);\nvar totalPrice=cartItems.reduce(function(acc,item){return acc+parseInt(item.price)*item.quantity;},0);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:cx('cart'),children:[/*#__PURE__*/_jsx(\"h1\",{className:cx('heading'),children:\"Gi\\u1ECF h\\xE0ng\"}),/*#__PURE__*/_jsxs(\"table\",{className:cx('table'),children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:cx('tr'),children:[/*#__PURE__*/_jsx(\"th\",{className:cx('th'),children:\"T\\xEAn s\\u1EA3n ph\\u1EA9m\"}),/*#__PURE__*/_jsx(\"th\",{className:cx('th'),children:\"\\u1EA2nh\"}),/*#__PURE__*/_jsx(\"th\",{className:cx('th'),children:\"Gi\\xE1\"}),/*#__PURE__*/_jsx(\"th\",{className:cx('th'),children:\"S\\u1ED1 l\\u01B0\\u1EE3ng\"}),/*#__PURE__*/_jsx(\"th\",{className:cx('th'),children:\"T\\u1ED5ng\"}),/*#__PURE__*/_jsx(\"th\",{className:cx('th'),children:\"Ch\\u1EE9c n\\u0103ng\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:cx('tbody'),children:cartItems.map(function(item,index){return/*#__PURE__*/_jsxs(\"tr\",{className:cx('tr'),children:[/*#__PURE__*/_jsx(\"td\",{className:cx('td'),children:item.name}),/*#__PURE__*/_jsx(\"td\",{className:cx('td'),children:/*#__PURE__*/_jsx(\"img\",{style:{width:'100px'},src:'http://localhost:8000/api/postImages/'+item.image,alt:\"product\"})}),/*#__PURE__*/_jsx(\"td\",{className:cx('td'),children:parseInt(item.price).toLocaleString('vi-VN')}),/*#__PURE__*/_jsx(\"td\",{className:cx('td'),children:item.quantity}),/*#__PURE__*/_jsx(\"td\",{className:cx('td'),children:(parseInt(item.price)*item.quantity).toLocaleString('vi-VN')}),/*#__PURE__*/_jsx(\"td\",{className:cx('td'),children:/*#__PURE__*/_jsx(\"button\",{className:cx('btn btn-danger'),onClick:function onClick(){return deleteItem(item.id);},children:\"X\"})})]},index);})})]}),/*#__PURE__*/_jsx(\"div\",{className:cx('total'),children:/*#__PURE__*/_jsxs(\"h2\",{className:cx('total-value'),children:[\"T\\u1ED5ng: \",totalPrice.toLocaleString('vi-VN'),\" VND\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:cx('buttons'),children:[/*#__PURE__*/_jsx(Link,{to:\"/checkout\",className:cx('button'),children:\"Thanh to\\xE1n\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:cx('button'),children:\"Ti\\u1EBFp t\\u1EE5c mua h\\xE0ng\"})]})]})});}export default Cart;","map":{"version":3,"names":["useEffect","useState","style","classNames","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","cx","bind","Cart","_useState","cartData","JSON","parse","localStorage","getItem","_useState2","_slicedToArray","cartItems","setCartItems","deleteItem","itemId","newData","filter","item","id","setItem","stringify","console","log","totalPrice","reduce","acc","parseInt","price","quantity","children","className","map","index","name","width","src","image","alt","toLocaleString","onClick","to"],"sources":["D:/HOC/LTS/WebNongSan/Front-end/src/pages/Client/Cart/index.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport style from './Cart.module.scss';\r\nimport classNames from 'classnames/bind';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst cx = classNames.bind(style);\r\n\r\nfunction Cart() {\r\n    // const [cartItems, setCartItems] = useState([]);\r\n\r\n    const [cartItems, setCartItems] = useState(() => {\r\n        const cartData = JSON.parse(localStorage.getItem('cartItems'));\r\n        return cartData ? cartData : [];\r\n    });\r\n\r\n    // useEffect(() => {\r\n    //     const items = JSON.parse(localStorage.getItem('cartItems')) || [];\r\n    //     setCartItems(items);\r\n    // }, []);\r\n\r\n    function deleteItem(itemId) {\r\n        // const data = JSON.parse(localStorage.getItem(key));\r\n        const newData = cartItems.filter((item) => item.id !== itemId);\r\n        setCartItems(newData);\r\n        localStorage.setItem('cartItems', JSON.stringify(newData));\r\n        console.log(newData);\r\n    }\r\n\r\n    // const totalItems = cartItems.reduce((acc, item) => acc + item.qty, 0);\r\n    const totalPrice = cartItems.reduce((acc, item) => acc + parseInt(item.price) * item.quantity, 0);\r\n    return (\r\n        <>\r\n            <div className={cx('cart')}>\r\n                <h1 className={cx('heading')}>Giỏ hàng</h1>\r\n                <table className={cx('table')}>\r\n                    <thead>\r\n                        <tr className={cx('tr')}>\r\n                            <th className={cx('th')}>Tên sản phẩm</th>\r\n                            <th className={cx('th')}>Ảnh</th>\r\n                            <th className={cx('th')}>Giá</th>\r\n                            <th className={cx('th')}>Số lượng</th>\r\n                            <th className={cx('th')}>Tổng</th>\r\n                            <th className={cx('th')}>Chức năng</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className={cx('tbody')}>\r\n                        {cartItems.map((item, index) => (\r\n                            <tr className={cx('tr')} key={index}>\r\n                                <td className={cx('td')}>{item.name}</td>\r\n                                <td className={cx('td')}>\r\n                                    <img\r\n                                        style={{ width: '100px' }}\r\n                                        src={'http://localhost:8000/api/postImages/' + item.image}\r\n                                        alt=\"product\"\r\n                                    />\r\n                                </td>\r\n                                <td className={cx('td')}>{parseInt(item.price).toLocaleString('vi-VN')}</td>\r\n                                <td className={cx('td')}>{item.quantity}</td>\r\n                                <td className={cx('td')}>\r\n                                    {(parseInt(item.price) * item.quantity).toLocaleString('vi-VN')}\r\n                                </td>\r\n\r\n                                <td className={cx('td')}>\r\n                                    <button className={cx('btn btn-danger')} onClick={() => deleteItem(item.id)}>\r\n                                        X\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n                <div className={cx('total')}>\r\n                    <h2 className={cx('total-value')}>Tổng: {totalPrice.toLocaleString('vi-VN')} VND</h2>\r\n                </div>\r\n                <div className={cx('buttons')}>\r\n                    <Link to=\"/checkout\" className={cx('button')}>\r\n                        Thanh toán\r\n                    </Link>\r\n                    <Link to=\"/\" className={cx('button')}>\r\n                        Tiếp tục mua hàng\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Cart;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}