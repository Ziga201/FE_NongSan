{"ast":null,"code":"import _regeneratorRuntime from\"D:/HOC/LTS/WebNongSan/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/HOC/LTS/WebNongSan/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/HOC/LTS/WebNongSan/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'bootstrap/dist/css/bootstrap.css';import'bootstrap/dist/js/bootstrap.bundle';import style from\"./Order.module.scss\";// import { Link } from 'react-router-dom';\nimport classNames from'classnames/bind';import{useState,useEffect}from'react';import checkoutService from\"../../../services/checkoutService\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var cx=classNames.bind(style);function Order(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),checkouts=_useState2[0],setCheckouts=_useState2[1];var fetchCheckouts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.t0=setCheckouts;_context.next=3;return checkoutService.getCheckouts();case 3:_context.t1=_context.sent;(0,_context.t0)(_context.t1);case 5:case\"end\":return _context.stop();}},_callee);}));return function fetchCheckouts(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchCheckouts();},[]);var deleteCheckout=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id,e){var confirm,response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:confirm=window.confirm('Bạn có muốn huỷ đơn hàng không');if(!confirm){_context2.next=6;break;}_context2.next=4;return checkoutService.deleteCheckout(id);case 4:response=_context2.sent;if(response.data.success===true){alert('Huỷ đơn hàng thành công');document.getElementById(id).parentElement.parentElement.remove();}else{alert(response.data.msg);}case 6:case\"end\":return _context2.stop();}},_callee2);}));return function deleteCheckout(_x,_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:cx('hug'),children:checkouts.data!==undefined&&checkouts.data.data.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:cx('wrapper'),children:[/*#__PURE__*/_jsx(\"div\",{className:cx('heading'),children:/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"div\",{className:cx('name_table'),children:\"\\u0110\\u01A1n \\u0111\\u1EB7t h\\xE0ng\"})})}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"STT\"}),/*#__PURE__*/_jsx(\"th\",{children:\"S\\u1EA3n ph\\u1EA9m\"}),/*#__PURE__*/_jsx(\"th\",{children:\"T\\xEAn kh\\xE1ch h\\xE0ng\"}),/*#__PURE__*/_jsx(\"th\",{children:\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0110\\u1ECBa ch\\u1EC9\"}),/*#__PURE__*/_jsx(\"th\",{children:\"T\\u1ED5ng\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Ng\\xE0y \\u0111\\u1EB7t h\\xE0ng\"}),/*#__PURE__*/_jsx(\"th\",{children:\"T\\xECnh tr\\u1EA1ng\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Ch\\u1EE9c n\\u0103ng\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:checkouts.data.data.map(function(checkout,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index}),/*#__PURE__*/_jsx(\"td\",{children:checkout.product}),/*#__PURE__*/_jsx(\"td\",{children:checkout.name}),/*#__PURE__*/_jsx(\"td\",{children:checkout.phone}),/*#__PURE__*/_jsx(\"td\",{children:checkout.address}),/*#__PURE__*/_jsxs(\"td\",{children:[parseInt(checkout.total).toLocaleString('vi-VN'),\" VND\"]}),/*#__PURE__*/_jsx(\"td\",{children:checkout.orderdate}),/*#__PURE__*/_jsx(\"td\",{children:checkout.confirm}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:'5px',fontSize:'16px'},id:checkout._id,onClick:function onClick(e){return deleteCheckout(checkout._id,e);},className:\"btn btn-danger\",children:\"Hu\\u1EF7 \\u0111\\u01A1n h\\xE0ng\"})})]});})})]})]})})});}export default Order;","map":{"version":3,"names":["style","classNames","useState","useEffect","checkoutService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","cx","bind","Order","_useState","_useState2","_slicedToArray","checkouts","setCheckouts","fetchCheckouts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","t0","getCheckouts","t1","sent","stop","apply","arguments","deleteCheckout","_ref2","_callee2","id","e","confirm","response","_callee2$","_context2","window","data","success","alert","document","getElementById","parentElement","remove","msg","_x","_x2","children","className","undefined","length","textAlign","map","checkout","index","product","name","phone","address","parseInt","total","toLocaleString","orderdate","marginLeft","fontSize","_id","onClick"],"sources":["D:/HOC/LTS/WebNongSan/Front-end/src/pages/Client/Order/index.js"],"sourcesContent":["import 'bootstrap/dist/css/bootstrap.css';\r\nimport 'bootstrap/dist/js/bootstrap.bundle';\r\n\r\nimport style from '~/pages/Client/Order/Order.module.scss';\r\n// import { Link } from 'react-router-dom';\r\nimport classNames from 'classnames/bind';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport checkoutService from '~/services/checkoutService';\r\n\r\nconst cx = classNames.bind(style);\r\n\r\nfunction Order() {\r\n    const [checkouts, setCheckouts] = useState({});\r\n\r\n    const fetchCheckouts = async () => {\r\n        setCheckouts(await checkoutService.getCheckouts());\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchCheckouts();\r\n    }, []);\r\n\r\n    const deleteCheckout = async (id, e) => {\r\n        const confirm = window.confirm('Bạn có muốn huỷ đơn hàng không');\r\n        if (confirm) {\r\n            var response = await checkoutService.deleteCheckout(id);\r\n            if (response.data.success === true) {\r\n                alert('Huỷ đơn hàng thành công');\r\n                document.getElementById(id).parentElement.parentElement.remove();\r\n            } else {\r\n                alert(response.data.msg);\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className={cx('hug')}>\r\n                {checkouts.data !== undefined && checkouts.data.data.length > 0 && (\r\n                    <div className={cx('wrapper')}>\r\n                        <div className={cx('heading')}>\r\n                            <div className=\"col\">\r\n                                <div className={cx('name_table')}>Đơn đặt hàng</div>\r\n                            </div>\r\n                        </div>\r\n                        <table className=\"table\" style={{ textAlign: 'center' }}>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>STT</th>\r\n                                    <th>Sản phẩm</th>\r\n                                    <th>Tên khách hàng</th>\r\n                                    <th>Số điện thoại</th>\r\n                                    <th>Địa chỉ</th>\r\n                                    <th>Tổng</th>\r\n                                    <th>Ngày đặt hàng</th>\r\n                                    <th>Tình trạng</th>\r\n                                    <th>Chức năng</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {checkouts.data.data.map((checkout, index) => (\r\n                                    <tr>\r\n                                        <td>{index}</td>\r\n                                        <td>{checkout.product}</td>\r\n                                        <td>{checkout.name}</td>\r\n\r\n                                        <td>{checkout.phone}</td>\r\n                                        <td>{checkout.address}</td>\r\n                                        <td>{parseInt(checkout.total).toLocaleString('vi-VN')} VND</td>\r\n                                        <td>{checkout.orderdate}</td>\r\n                                        <td>{checkout.confirm}</td>\r\n\r\n                                        <td>\r\n                                            <button\r\n                                                style={{ marginLeft: '5px', fontSize: '16px' }}\r\n                                                id={checkout._id}\r\n                                                onClick={(e) => deleteCheckout(checkout._id, e)}\r\n                                                className=\"btn btn-danger\"\r\n                                            >\r\n                                                Huỷ đơn hàng\r\n                                            </button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Order;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}