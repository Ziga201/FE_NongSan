{"ast":null,"code":"import _regeneratorRuntime from\"D:/HOC/LTS/WebNongSan/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/HOC/LTS/WebNongSan/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/HOC/LTS/WebNongSan/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import style from\"./Login.module.scss\";import classNames from'classnames/bind';import{useEffect,useState}from'react';import{Link}from'react-router-dom';import accountService from\"../../../services/accountService\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var cx=classNames.bind(style);function Login(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),accounts=_useState2[0],setAccounts=_useState2[1];var fetchAccounts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.t0=setAccounts;_context.next=3;return accountService.getAccounts();case 3:_context.t1=_context.sent;(0,_context.t0)(_context.t1);case 5:case\"end\":return _context.stop();}},_callee);}));return function fetchAccounts(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchAccounts();},[accounts]);// Login\nvar _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:event.preventDefault();localStorage.setItem('admin',true);// accounts.data.data.forEach((element) => {\n//     // if (element.username == username && element.password == password) {\n//     //     // alert('MK đúng');\n//     //     localStorage.setItem('user', element.username);\n//     //     window.location.href = '/admin';\n//     // }\n//     if (element.username == username && element.password == password && element.decentralization == 'Admin') {\n//         // alert('MK đúng');\n//         localStorage.setItem('admin', true);\n//         window.location.href = '/admin';\n//     } else if (\n//         element.username == username &&\n//         element.password == password &&\n//         element.decentralization == 'User'\n//     ) {\n//         // alert('MK đúng');\n//         const user = {\n//             id: element._id,\n//             username: element.username,\n//             decentralization: element.decentralization,\n//         };\n//         localStorage.setItem('info', JSON.stringify(user));\n//         localStorage.setItem('user', true);\n//         localStorage.setItem('admin', true);\n//         window.location.href = '/';\n//     }\n// });\ncase 2:case\"end\":return _context2.stop();}},_callee2);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:cx('login-wrap'),children:[/*#__PURE__*/_jsx(\"div\",{className:cx('login-text'),children:\"\\u0110\\u0103ng nh\\u1EADp\"}),/*#__PURE__*/_jsxs(\"form\",{className:cx('form'),onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"T\\xEAn t\\xE0i kho\\u1EA3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,className:cx('input'),onChange:function onChange(e){return setUsername(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"M\\u1EADt kh\\u1EA9u\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,className:cx('input'),onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:cx('button'),type:\"submit\",children:\"\\u0110\\u0103ng nh\\u1EADp\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:cx('p'),children:[\"B\\u1EA1n ch\\u01B0a c\\xF3 t\\xE0i kho\\u1EA3n ?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:/*#__PURE__*/_jsx(\"span\",{className:cx('sign'),children:\"\\u0110\\u0103ng k\\xFD\"})})]})]})});}export default Login;","map":{"version":3,"names":["style","classNames","useEffect","useState","Link","accountService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","cx","bind","Login","_useState","_useState2","_slicedToArray","accounts","setAccounts","fetchAccounts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","t0","getAccounts","t1","sent","stop","apply","arguments","_useState3","_useState4","username","setUsername","_useState5","_useState6","password","setPassword","handleSubmit","_ref2","_callee2","event","_callee2$","_context2","preventDefault","localStorage","setItem","_x","children","className","onSubmit","type","value","onChange","e","target","to"],"sources":["D:/HOC/LTS/WebNongSan/Front-end/src/pages/Client/Login/index.js"],"sourcesContent":["import style from './Login.module.scss';\r\nimport classNames from 'classnames/bind';\r\nimport { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport accountService from '~/services/accountService';\r\n\r\nconst cx = classNames.bind(style);\r\n\r\nfunction Login() {\r\n    const [accounts, setAccounts] = useState({});\r\n\r\n    const fetchAccounts = async () => {\r\n        setAccounts(await accountService.getAccounts());\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchAccounts();\r\n    }, [accounts]);\r\n\r\n    // Login\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        localStorage.setItem('admin', true);\r\n        // accounts.data.data.forEach((element) => {\r\n        //     // if (element.username == username && element.password == password) {\r\n        //     //     // alert('MK đúng');\r\n        //     //     localStorage.setItem('user', element.username);\r\n        //     //     window.location.href = '/admin';\r\n        //     // }\r\n\r\n        //     if (element.username == username && element.password == password && element.decentralization == 'Admin') {\r\n        //         // alert('MK đúng');\r\n        //         localStorage.setItem('admin', true);\r\n        //         window.location.href = '/admin';\r\n        //     } else if (\r\n        //         element.username == username &&\r\n        //         element.password == password &&\r\n        //         element.decentralization == 'User'\r\n        //     ) {\r\n        //         // alert('MK đúng');\r\n        //         const user = {\r\n        //             id: element._id,\r\n        //             username: element.username,\r\n        //             decentralization: element.decentralization,\r\n        //         };\r\n\r\n        //         localStorage.setItem('info', JSON.stringify(user));\r\n        //         localStorage.setItem('user', true);\r\n        //         localStorage.setItem('admin', true);\r\n        //         window.location.href = '/';\r\n        //     }\r\n        // });\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className={cx('login-wrap')}>\r\n                <div className={cx('login-text')}>Đăng nhập</div>\r\n\r\n                <form className={cx('form')} onSubmit={handleSubmit}>\r\n                    <label>Tên tài khoản</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={username}\r\n                        className={cx('input')}\r\n                        onChange={(e) => setUsername(e.target.value)}\r\n                    />\r\n                    <br />\r\n                    <label>Mật khẩu</label>\r\n\r\n                    <input\r\n                        type=\"password\"\r\n                        value={password}\r\n                        className={cx('input')}\r\n                        onChange={(e) => setPassword(e.target.value)}\r\n                    />\r\n                    <br />\r\n                    <button className={cx('button')} type=\"submit\">\r\n                        Đăng nhập\r\n                    </button>\r\n                </form>\r\n                <p className={cx('p')}>\r\n                    Bạn chưa có tài khoản ?{' '}\r\n                    <Link to=\"/signup\">\r\n                        <span className={cx('sign')}>Đăng ký</span>\r\n                    </Link>\r\n                </p>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}